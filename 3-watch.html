<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <title>Document</title>
</head>

<body>
    <div id="app">
        {{msg}}
        <hr />

        {{msg1}} {{msg2}} {{msg3}}
        <hr />
        {{info.a}} {{info.b}}
    </div>
    <script>
        // watch  1 对 多的关系   computed  多对1的关系
        // 计算属性 vs watch
        // watch观察一个属性得出不同的结果

        app = new Vue({
            el: "#app",   //对应上面的div的app
            data: {
                msg: "hello world",
                msg1: "",
                msg2: "",
                msg3: "",
                info: {
                    a: "info.a",
                    b: "info.b",
                },
            },
            watch: {
                // 会马上执行
                msg: {
                    handler(newValue, oldValue) {
                        console.log(newValue, oldValue);

                        this.msg1 = newValue + "1";
                        this.msg2 = newValue + "2";
                        this.msg3 = newValue + "3";
                    },
                    immediate: true,//即时执行
                },
                //只监听info.a
                "info.a": {
                    handler(newValue, oldValue) {
                        console.log(newValue, oldValue);  //对象改变默认不触发，须加deep设置true
                    },
                    deep: true,   //触发handler
                },
                // msg(newValue, oldValue) {
                //     console.log(newValue, oldValue);
                //     this.msg1 = newValue + "1";
                //     this.msg2 = newValue + "2";
                //     this.msg3 = newValue + "3";
                // },

                
                // js
                // if 
                // else
                // if else
            },

        });

    </script>
</body>

</html>